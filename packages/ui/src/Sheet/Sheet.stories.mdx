import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { InlineCluster } from '@bedrock-layout/inline-cluster';
import { Sheet } from './Sheet';
import { Button } from '../Button';
import { useLayer } from '../Layer/LayerProvider';

<Meta
  title="Base/Sheet"
  component={Sheet}
  argTypes={{
    size: {
      name: 'size',
      options: ['small', 'medium', 'mediumLarge', 'large'],
      control: {
        type: 'select',
      },
      defaultValue: 'lg',
    },
  }}
/>

export const Template = (args) => <Sheet {...args} />;

export const TemplateTriggers = (args) => {
  const { open: openSmallSheet } = useLayer(<Sheet size="small">Small</Sheet>);
  const { open: openMediumSheet } = useLayer(
    <Sheet size="medium">Medium</Sheet>
  );
  const { open: openMediumLargSheet } = useLayer(
    <Sheet size="mediumLarge">Medium Large</Sheet>
  );
  const { open: openLargSheet } = useLayer(<Sheet size="large">Large</Sheet>);
  return (
    <InlineCluster gutter={11}>
      <Button
        appearance="filled"
        onClick={() => {
          openSmallSheet();
        }}
      >
        Small
      </Button>
      <Button
        appearance="filled"
        onClick={() => {
          openMediumSheet();
        }}
      >
        Medium
      </Button>
      <Button
        appearance="filled"
        onClick={() => {
          openMediumLargSheet();
        }}
      >
        Medium Large
      </Button>
      <Button
        appearance="filled"
        onClick={() => {
          openLargSheet();
        }}
      >
        Large
      </Button>
    </InlineCluster>
  );
};

export const TemplateSheetInSheet = (args) => {
  const { open: openSmallSheet } = useLayer(
    <Sheet size="small">Sheet Two</Sheet>
  );
  const { open: openEmbeddedSheet } = useLayer(
    <Sheet size="mediumLarge">
      <Button
        appearance="filled"
        onClick={() => {
          openSmallSheet();
        }}
      >
        Open Sheet Two
      </Button>
    </Sheet>
  );
  return (
    <InlineCluster gutter={11}>
      <Button
        appearance="filled"
        onClick={() => {
          openEmbeddedSheet();
        }}
      >
        Open Sheet One
      </Button>
    </InlineCluster>
  );
};

# Sheet

Sheet description here

```tsx
<Sheet label="Sheet" />
```

<Canvas>
  <Story
    name="Sheet"
    args={{
      children: <div>Sheet content</div>,
      size: 'large',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story name="Sheet with Triggers">{TemplateTriggers.bind({})}</Story>
</Canvas>

<Canvas>
  <Story name="Sheet in Sheet">{TemplateSheetInSheet.bind({})}</Story>
</Canvas>

<ArgsTable story="Sheet" />
